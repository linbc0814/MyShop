{"version":3,"file":"js/166.3370b01d.js","mappings":"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","sources":["webpack://my-vshop/./src/views/frontDesk/UserConfirmView.vue","webpack://my-vshop/./src/views/frontDesk/UserConfirmView.vue?b76c"],"sourcesContent":["<template>\n  <!-- eslint-disable vue/no-multiple-template-root -->\n  <Loading :active=\"isLoading\" />\n  <div class=\"viewbody\">\n    <div class=\"container mb-5 py-5 px-md-4 mt-5\">\n      <div class=\"row justify-content-center mt-5\">\n        <div class=\"col-md-10 mx-auto\">\n          <ol\n            class=\"\n              row\n              progress-bar\n              list-unstyled\n              justify-content-between\n              text-center\n            \"\n          >\n            <li class=\"col-3 done\">購物車</li>\n            <li class=\"col-3 done\">填寫資料</li>\n            <li class=\"col-3 active\">確認訂單</li>\n            <li class=\"col-3\">完成</li>\n          </ol>\n        </div>\n      </div>\n    </div>\n    <div class=\"container mb-5 py-5 px-md-4 mt-5\">\n      <div class=\"row justify-content-center my-5\">\n        <div class=\"col-lg-6 text-primary\">\n          <div class=\"h-100 d-flex flex-column\">\n            <h3\n              class=\"\n                h6\n                d-inline-block\n                text-white\n                rounded-top\n                align-self-start\n                px-3\n                py-2\n                mb-0\n                confirm-h3\n              \"\n            >\n              商品資訊\n            </h3>\n            <div\n              class=\"\n                table-responsive\n                bg-white\n                shadow-sm\n                rounded-bottom\n                divborder\n                p-3\n              \"\n            >\n              <table class=\"confirmTable table table-borderless mb-0\" v-if=\"cartData.carts\">\n                <tbody>\n                  <tr v-for=\"product in cartData.carts\" :key=\"product.id\">\n                    <td>\n                      <img\n                        :src=\"product.product.imageUrl\"\n                        :alt=\"product.product.title\"\n                        class=\"confirm-img\"\n                      />\n                    </td>\n                    <td>\n                      {{ product.product.title }}\n                    </td>\n                    <td>x {{ product.qty }}</td>\n                    <td class=\"text-end\">\n                      <template v-if=\"product.final_total !== product.total\">\n                        <del class=\"small text-muted\"\n                          >${{ $filters.currency(product.total) }}</del\n                        >\n                        <br />\n                        <small class=\"text-danger me-1\">折扣價</small>\n                      </template>\n                      <span class=\"text-danger fw-bold\">\n                        ${{ $filters.currency(product.final_total) }}\n                      </span>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-lg-4 border-start border-light d-flex flex-column\">\n          <h3\n            class=\"\n              h6\n              d-inline-block\n              text-white\n              rounded-top\n              align-self-start\n              px-3\n              py-2\n              mb-0\n              confirm-h3\n            \"\n          >\n            訂購人資料\n          </h3>\n          <div\n            class=\"\n              table-responsive\n              bg-white\n              shadow-sm\n              rounded-bottom\n              divborder\n              p-3\n              mb-4\n            \"\n          >\n            <table class=\"table\">\n              <tbody v-if=\"orderData.user\">\n                <tr>\n                  <th scope=\"row\" class=\"border-0\">姓名</th>\n                  <td class=\"border-0\">{{ orderData.user.name }}</td>\n                </tr>\n                <tr>\n                  <th scope=\"row\" class=\"border-0\">電話</th>\n                  <td class=\"border-0\">{{ orderData.user.tel }}</td>\n                </tr>\n                <tr>\n                  <th scope=\"row\" class=\"border-0\">地址</th>\n                  <td class=\"border-0\">{{ orderData.user.address }}</td>\n                </tr>\n                <tr>\n                  <th scope=\"row\" class=\"border-0\">Email</th>\n                  <td class=\"border-0\">{{ orderData.user.email }}</td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n          <h3\n            class=\"\n              h6\n              d-inline-block\n              text-white\n              rounded-top\n              align-self-start\n              px-3\n              py-2\n              mb-0\n              confirm-h3\n            \"\n          >\n            結帳資訊\n          </h3>\n          <div\n            class=\"\n              table-responsive\n              bg-white\n              shadow-sm\n              rounded-bottom\n              divborder\n              p-3\n            \"\n          >\n            <table class=\"table\">\n              <tbody>\n                <tr class=\"fs-5 fw-bold\">\n                  <th scope=\"row\" class=\"border-0\">總金額</th>\n                  <td class=\"border-0 text-danger\" >\n                    ${{ $filters.currency(cartData.final_total) }}\n                  </td>\n                </tr>\n                <tr>\n                  <th scope=\"row\" class=\"border-0 align-middle\">付款方式</th>\n                  <td class=\"border-0\">{{this.$route.query.pay}}</td>\n                </tr>\n                <tr>\n                  <th scope=\"row\" class=\"border-0 align-middle\">配送方式</th>\n                  <td class=\"border-0\">{{this.$route.query.shipping}}</td>\n                </tr>\n              </tbody>\n            </table>\n              <div class=\"d-flex justify-content-evenly col-lg-12 py-2 mx-auto \">\n                <Router-link\n                  to=\"/user/productslist\"\n                  class=\"btn myBtn\"\n                  >取消購買\n                </Router-link>\n                <button @click=\"createOrder\" class=\"btn myBtn\">\n                  確認訂單\n                </button>\n              </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      orderData: {\n        user: {},\n      },\n      cartData: {},\n      orderId: '',\n      isLoading: false,\n    };\n  },\n  inject: ['emitter', 'pushMessageState'],\n  methods: {\n    getInfo() {\n      const orderData = localStorage.getItem('orderData');\n      const cartData = localStorage.getItem('cartData');\n      this.orderData = JSON.parse(orderData);\n      this.cartData = JSON.parse(cartData);\n    },\n    createOrder() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`;\n      const order = this.orderData;\n      this.$http.post(url, { data: order }).then((response) => {\n        this.pushMessageState(response, '訂單建立');\n        this.emitter.emit('update-cart');\n        this.$router.push(`/cart/ordersuccess/${response.data.orderId}`);\n      });\n    },\n  },\n  created() {\n    this.getInfo();\n    console.log(this.cartData);\n  },\n};\n</script>\n","import { render } from \"./UserConfirmView.vue?vue&type=template&id=e71fc7e8\"\nimport script from \"./UserConfirmView.vue?vue&type=script&lang=js\"\nexport * from \"./UserConfirmView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\p1286\\\\Desktop\\\\my-vshop\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","scope","_createVNode","_component_Loading","active","$data","_hoisted_2","_hoisted_7","carts","_createElementBlock","_Fragment","_renderList","product","key","id","src","imageUrl","alt","title","_toDisplayString","qty","final_total","total","_ctx","currency","_hoisted_13","_hoisted_14","_hoisted_17","user","_hoisted_20","_hoisted_21","name","_hoisted_23","tel","_hoisted_25","address","_hoisted_27","email","_hoisted_29","_hoisted_33","_hoisted_35","$route","query","pay","_hoisted_37","shipping","_component_Router_link","to","onClick","$options","data","orderData","cartData","orderId","isLoading","inject","methods","getInfo","localStorage","getItem","this","JSON","parse","createOrder","url","order","$http","post","then","response","pushMessageState","emitter","emit","$router","push","created","console","log","__exports__","render"],"sourceRoot":""}