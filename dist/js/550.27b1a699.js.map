{"version":3,"file":"js/550.27b1a699.js","mappings":"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","sources":["webpack://my-vshop/./src/components/frontDesk/CardItem.vue","webpack://my-vshop/./src/components/frontDesk/CardItem.vue?5be7","webpack://my-vshop/./src/views/frontDesk/UserProductView.vue","webpack://my-vshop/./src/views/frontDesk/UserProductView.vue?b1d9"],"sourcesContent":["<template>\n  <!--  eslint-disable vue/no-multiple-template-root -->\n  <Loading :active=\"isLoading\" />\n  <li\n    class=\"col-md-4 col-lg3 border-0 d-flex justify-content-center\"\n    v-for=\"item in products\"\n    :key=\"item.id\"\n  >\n    <div class=\"wrapper\">\n      <div class=\"card\">\n        <div\n          class=\"top\"\n          :style=\"{ backgroundImage: 'url(' + item.imageUrl + ')' }\"\n        ></div>\n        <div class=\"bottom\">\n          <div class=\"left\">\n            <div class=\"details\">\n              <router-link :to=\"`/user/product/${item.id}`\">\n                <h5>{{ item.title }}</h5></router-link\n              >\n              <p>NT$ {{ $filters.currency(item.price) }}</p>\n            </div>\n            <button\n              type=\"button\"\n              class=\"btn buy\"\n              @click.stop=\"addToCart(item.id)\"\n            >\n              <i class=\"bi bi-cart-plus\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n      <div class=\"insidecard\">\n        <div class=\"icon\">\n          <i class=\"bi bi-bookmark-star\"></i>\n        </div>\n        <div class=\"insidecontents\">\n          <router-link :to=\"`/user/product/${item.id}`\">\n            <button class=\"btn btn-sm btn-frame w-50\" type=\"button\">\n              <span>詳細資訊</span>\n            </button>\n          </router-link>\n        </div>\n      </div>\n    </div>\n  </li>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      isLoading: false,\n      loadingStatus: {},\n    };\n  },\n  props: ['products'],\n  methods: {\n    addToCart(id) {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      const cart = {\n        product_id: id,\n        qty: 1,\n      };\n      this.loadingStatus.loadingCart = id;\n      this.isLoading = true;\n      this.$http\n        .post(url, { data: cart })\n        .then((response) => {\n          if (response.data.success) {\n            this.pushMessageState(response, '加入購物車');\n            this.emitter.emit('update-cart', id);\n            this.isLoading = false;\n          }\n        })\n        .catch((error) => {\n          this.pushMessageState(error, '連線錯誤');\n          this.isLoading = false;\n        });\n    },\n  },\n  inject: ['emitter', 'pushMessageState'],\n};\n</script>\n\n<style>\n</style>\n","import { render } from \"./CardItem.vue?vue&type=template&id=33479a02\"\nimport script from \"./CardItem.vue?vue&type=script&lang=js\"\nexport * from \"./CardItem.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\p1286\\\\Desktop\\\\my-vshop\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <!-- eslint-disable vue/no-multiple-template-root\n eslint-disable vuejs-accessibility/form-control-has-label -->\n  <Loading :active=\"isLoading\" />\n  <div class=\"viewbody\">\n    <div class=\"productBody\">\n      <div class=\"container\">\n        <div class=\"row mt-5\">\n          <div class=\"col-md-7 mb-5\">\n            <div class=\"productImg mb-4\">\n              <img :src=\"product.imageUrl\" class=\"shadow\" alt=\"\" />\n            </div>\n          </div>\n          <div class=\"col-md-5\">\n            <div class=\"productTitle\">\n              <div class=\" d-flex justify-content-between\">\n              <h3 class=\"productTag mb-3 mt-2\">{{ product.category }}</h3>\n                <button\n                  type=\"button\"\n                  @click.prevent=\"favorite(product.id)\"\n                  class=\"btn \"\n                >\n                  <i\n                    class=\"bi bi-heart text-strong fs-4\"\n                    v-if=\"favoriteList.indexOf(product.id) === -1\"\n                  ></i>\n                  <i class=\"bi bi-heart-fill text-strong fs-4\" v-else></i>\n                </button>\n              </div>\n              <h3 class=\"\">{{ product.title }}</h3>\n              <div class=\"line\"></div>\n              <div class=\"descript mt-4\">\n                <h4>【產品說明】</h4>\n                <p class=\"\">{{ product.description }}</p>\n              </div>\n              <hr />\n              <div class=\"mb-3\">\n                <div>\n                  <h2>價格:NT{{ $filters.currency(product.price) }}</h2>\n                </div>\n              </div>\n              <h4>數量:</h4>\n              <div class=\"countNumber d-flex align-items-center\">\n                <button class=\"btn minus\" @click=\"changeQty(-1)\">\n                  <i class=\"bi bi-dash\"></i>\n                </button>\n                <input\n                  class=\"productNumber\"\n                  type=\"number\"\n                  max=\"10\"\n                  min=\"1\"\n                  v-model=\"productNum\"\n                  @change=\"changeNumber(productNum)\"\n                />\n                <button class=\"btn add\" @click=\"changeQty(1)\">\n                  <i class=\"bi bi-plus\"></i>\n                </button>\n              </div>\n              <button\n                class=\"addCart btn myBtn mt-4 px-3\"\n                @click=\"addToCart(this.id, productNum)\"\n              >\n                <i class=\"bi bi-cart4\"></i> 加入購物車\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"hotProduct mt-5\">\n        <h4 class=\"text-center\">熱門產品</h4>\n        <hr />\n        <div class=\"d-flex justify-content-center\">\n          <div class=\"col-9 mt-5\">\n            <ul class=\"row\">\n              <Card :products=\"hotProducts\" />\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Card from '@/components/frontDesk/CardItem.vue';\n\nexport default {\n  data() {\n    return {\n      product: {},\n      products: [],\n      id: '',\n      hotProducts: [],\n      arr: [],\n      productNum: 1,\n      isLoading: false,\n      favoriteList: JSON.parse(localStorage.getItem('favorite')) || [],\n    };\n  },\n  components: {\n    Card,\n  },\n  inject: ['emitter', 'pushMessageState'],\n  methods: {\n    getProduct() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${this.id}`;\n      this.isLoading = true;\n      this.$http.get(api).then((response) => {\n        this.isLoading = false;\n        if (response.data.success) {\n          this.product = response.data.product;\n        }\n      });\n    },\n    getHotProducts() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\n      this.$http.get(api).then((response) => {\n        this.products = response.data.products;\n        this.products.map((products) => {\n          if (products.id !== this.id) {\n            this.arr.push(products);\n          }\n          return this.arr;\n        });\n        if (this.arr.length > 3) {\n          // eslint-disable-next-line no-plusplus\n          for (let i = 0; i < 3; i++) {\n            let num = Math.random() * this.arr.length;\n            num = Math.floor(num);\n            this.hotProducts.push(this.arr[num]);\n          }\n        }\n      });\n    },\n    changeQty(num) {\n      const qty = this.productNum + num;\n      this.changeNumber(qty);\n    },\n    changeNumber(num) {\n      if (num < 1) {\n        this.productNum = 1;\n        // eslint-disable-next-line no-alert\n        alert('數量不可低於1');\n      } else {\n        this.productNum = num;\n      }\n    },\n    addToCart(id, productNum) {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      const cart = {\n        product_id: id,\n        qty: productNum,\n      };\n      this.isLoading = true;\n      this.$http.post(url, { data: cart }).then((response) => {\n        this.isLoading = false;\n        this.pushMessageState(response, '加入購物車');\n      });\n    },\n    favorite(item) {\n      const favorite = this.favoriteList.indexOf(item);\n      if (favorite === -1) {\n        this.favoriteList.push(item);\n        this.pushMessageState(\n          {\n            data: {\n              success: true,\n              message: `已將 ${item.title} 加入收藏`,\n            },\n          },\n          '加入收藏',\n        );\n      } else {\n        this.favoriteList.splice(favorite, 1);\n        this.pushMessageState(\n          {\n            data: {\n              success: true,\n              message: `已將 ${item.title} 取消收藏`,\n            },\n          },\n          '取消收藏',\n        );\n      }\n      localStorage.setItem('favorite', JSON.stringify(this.favoriteList));\n    },\n  },\n  created() {\n    this.id = this.$route.params.productId;\n    this.getProduct();\n    this.getHotProducts();\n  },\n};\n</script>\n","import { render } from \"./UserProductView.vue?vue&type=template&id=31dc19ae\"\nimport script from \"./UserProductView.vue?vue&type=script&lang=js\"\nexport * from \"./UserProductView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\p1286\\\\Desktop\\\\my-vshop\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_7","type","_createVNode","_component_Loading","active","$data","_createElementBlock","_Fragment","_renderList","$props","item","key","id","style","backgroundImage","imageUrl","_component_router_link","to","_toDisplayString","title","_ctx","currency","price","onClick","$options","_hoisted_10","_hoisted_12","data","isLoading","loadingStatus","props","methods","addToCart","url","cart","product_id","qty","this","loadingCart","$http","post","then","response","success","pushMessageState","emitter","emit","catch","error","inject","__exports__","render","_hoisted_23","_hoisted_25","_hoisted_27","src","alt","category","indexOf","_hoisted_15","_hoisted_17","description","_hoisted_19","_hoisted_21","max","min","$event","onChange","_hoisted_31","_hoisted_32","_component_Card","products","product","hotProducts","arr","productNum","favoriteList","JSON","parse","localStorage","getItem","components","Card","getProduct","api","get","getHotProducts","map","push","length","i","num","Math","random","floor","changeQty","changeNumber","alert","favorite","message","splice","setItem","stringify","created","$route","params","productId"],"sourceRoot":""}