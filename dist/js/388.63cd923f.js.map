{"version":3,"file":"js/388.63cd923f.js","mappings":"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","sources":["webpack://my-vshop/./src/components/frontDesk/CardItem.vue","webpack://my-vshop/./src/components/frontDesk/CardItem.vue?5be7","webpack://my-vshop/./src/views/frontDesk/UserProductView.vue","webpack://my-vshop/./src/views/frontDesk/UserProductView.vue?b1d9"],"sourcesContent":["<template>\n  <!--  eslint-disable vue/no-multiple-template-root -->\n  <Loading :active=\"isLoading\" />\n  <li class=\"col-md-4 col-lg3 border-0 d-flex justify-content-center\"\n  v-for=\"item in products\" :key=\"item.id\">\n    <div class=\"wrapper\">\n      <div class=\"card\">\n        <div\n          class=\"top\"\n          :style=\"{ backgroundImage: 'url(' + item.imageUrl + ')' }\"\n        ></div>\n        <div class=\"bottom\" >\n          <div class=\"left\">\n            <div class=\"details\">\n              <h5>{{ item.title }}</h5>\n              <p>NT$ {{ $filters.currency(item.price) }}</p>\n            </div>\n            <button\n              type=\"button\"\n              class=\"btn buy\"\n              @click.stop=\"addToCart(item.id)\"\n            >\n              <i class=\"bi bi-cart-plus\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n      <div class=\"inside\">\n        <div class=\"icon\">\n          <i class=\"bi bi-exclamation-circle\"></i>\n        </div>\n        <div class=\"insidecontents\">\n          <router-link :to=\"`/user/product/${item.id}`\">\n            <button class=\"btn btn-sm btn-frame w-50\" type=\"button\">\n              <span >詳細資訊</span>\n            </button>\n          </router-link>\n        </div>\n      </div>\n    </div>\n  </li>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      isLoading: false,\n      loadingStatus: {},\n    };\n  },\n  props: ['products'],\n  methods: {\n    addToCart(id) {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      const cart = {\n        product_id: id,\n        qty: 1,\n      };\n      this.loadingStatus.loadingCart = id;\n      this.isLoading = true;\n      this.$http\n        .post(url, { data: cart })\n        .then((response) => {\n          if (response.data.success) {\n            this.pushMessageState(response, '加入購物車');\n            this.emitter.emit('update-cart', id);\n            this.isLoading = false;\n          }\n        })\n        .catch((error) => {\n          this.pushMessageState(error, '連線錯誤');\n          this.isLoading = false;\n        });\n    },\n  },\n  inject: ['emitter', 'pushMessageState'],\n};\n</script>\n\n<style>\n</style>\n","import { render } from \"./CardItem.vue?vue&type=template&id=0ac53c7d\"\nimport script from \"./CardItem.vue?vue&type=script&lang=js\"\nexport * from \"./CardItem.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\p1286\\\\Desktop\\\\my-vshop\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n<!-- eslint-disable vue/no-multiple-template-root\neslint-disable vuejs-accessibility/form-control-has-label -->\n  <Loading :active=\"isLoading\" />\n  <div class=\"viewbody\">\n    <div class=\"productBody\">\n      <div class=\"container\">\n        <div class=\"row mt-5\">\n          <div class=\"col-md-7 mb-5\">\n            <div class=\"productImg mb-4\">\n              <img :src=\"product.imageUrl\" class=\"shadow\" alt=\"\" />\n            </div>\n          </div>\n          <div class=\"col-md-5\">\n            <div class=\"productTitle\">\n              <div class=\"productTag mb-3\">{{ product.category }}</div>\n              <h3 class=\"\">{{ product.title }}</h3>\n              <div class=\"line\"></div>\n              <div class=\"descript mt-4\">\n                <h4>【產品說明】</h4>\n                <p class=\"\">{{ product.description }}</p>\n              </div>\n              <hr />\n              <div class=\"mb-3\">\n                <div>價格:NT{{ $filters.currency(product.price) }}</div>\n              </div>\n              <h4 class=\"\">數量:</h4>\n              <div class=\"countNumber d-flex align-items-center\">\n                <button class=\"btn minus\" @click=\"changeQty(-1)\">\n                  <i class=\"bi bi-dash\"></i>\n                </button>\n                <input\n                  class=\"productNumber\"\n                  type=\"number\"\n                  max=\"10\"\n                  min=\"1\"\n                  v-model=\"productNum\"\n                  @change=\"changeNumber(productNum)\"\n                />\n                <button class=\"btn add\" @click=\"changeQty(1)\">\n                  <i class=\"bi bi-plus\"></i>\n                </button>\n              </div>\n              <button\n                class=\"addCart btn myBtn mt-4 px-3\"\n                @click=\"addToCart(this.id, productNum)\"\n              >\n                <i class=\"bi bi-cart4\"></i> 加入購物車\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"referPro mt-5\">\n        <h4 class=\"text-center\">熱門產品</h4>\n        <hr />\n        <div class=\"d-flex justify-content-center\">\n          <div class=\"col-9 mt-5\">\n            <ul class=\"row\">\n              <Card :products=\"hotProducts\" />\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Card from '@/components/frontDesk/CardItem.vue';\n\nexport default {\n  data() {\n    return {\n      product: {},\n      products: [],\n      id: '',\n      hotProducts: [],\n      arr: [],\n      productNum: 1,\n    };\n  },\n  components: {\n    Card,\n  },\n  inject: ['emitter', 'pushMessageState'],\n  methods: {\n    getProduct() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${this.id}`;\n      this.isLoading = true;\n      this.$http.get(api).then((response) => {\n        this.isLoading = false;\n        if (response.data.success) {\n          this.product = response.data.product;\n        }\n      });\n    },\n    getHotProducts() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\n      this.$http.get(api).then((response) => {\n        this.products = response.data.products;\n        this.products.map((products) => {\n          if (products.id !== this.id) {\n            this.arr.push(products);\n          }\n          return this.arr;\n        });\n        if (this.arr.length > 3) {\n          // eslint-disable-next-line no-plusplus\n          for (let i = 0; i < 3; i++) {\n            let num = Math.random() * this.arr.length;\n            num = Math.floor(num);\n            this.hotProducts.push(this.arr[num]);\n          }\n        }\n      });\n    },\n    changeQty(num) {\n      const qty = this.productNum + num;\n      this.changeNumber(qty);\n    },\n    changeNumber(num) {\n      if (num < 1) {\n        this.productNum = 1;\n        // eslint-disable-next-line no-alert\n        alert('數量不可低於1');\n      } else {\n        this.productNum = num;\n      }\n    },\n    addToCart(id, productNum) {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      const cart = {\n        product_id: id,\n        qty: productNum,\n      };\n      this.isLoading = true;\n      this.$http.post(url, { data: cart }).then((response) => {\n        this.isLoading = false;\n        this.pushMessageState(response, '加入購物車');\n      });\n    },\n  },\n  created() {\n    this.id = this.$route.params.productId;\n    this.getProduct();\n    this.getHotProducts();\n  },\n};\n</script>\n","import { render } from \"./UserProductView.vue?vue&type=template&id=4c397fbd\"\nimport script from \"./UserProductView.vue?vue&type=script&lang=js\"\nexport * from \"./UserProductView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\p1286\\\\Desktop\\\\my-vshop\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_7","type","_createVNode","_component_Loading","active","$data","_createElementBlock","_Fragment","_renderList","$props","item","key","id","style","backgroundImage","imageUrl","_toDisplayString","title","_ctx","currency","price","onClick","$options","_hoisted_10","_component_router_link","to","_hoisted_12","data","isLoading","loadingStatus","props","methods","addToCart","url","cart","product_id","qty","this","loadingCart","$http","post","then","response","success","pushMessageState","emitter","emit","catch","error","inject","__exports__","render","_hoisted_20","_hoisted_22","_hoisted_24","src","alt","category","_hoisted_14","description","_hoisted_16","_hoisted_18","max","min","$event","onChange","_hoisted_28","_hoisted_29","_component_Card","products","product","hotProducts","arr","productNum","components","Card","getProduct","api","get","getHotProducts","map","push","length","i","num","Math","random","floor","changeQty","changeNumber","alert","created","$route","params","productId"],"sourceRoot":""}