"use strict";(self["webpackChunkmy_vshop"]=self["webpackChunkmy_vshop"]||[]).push([[407],{5407:function(t,e,s){s.r(e),s.d(e,{default:function(){return G}});var r=s(3396),l=s(7139);const a={class:"viewbody"},o=(0,r.uE)('<div class="container mb-5 py-5 px-md-4 mt-5"><div class="row justify-content-center mt-5"><div class="col-md-10 mx-auto"><ol class="row progress-bar list-unstyled justify-content-between text-center"><li class="col-3 done">購物車</li><li class="col-3 done">填寫資料</li><li class="col-3 active">確認訂單</li><li class="col-3">完成</li></ol></div></div></div>',1),d={class:"container mb-5 py-5 px-md-4 mt-5"},c={class:"row justify-content-center my-5"},i={class:"col-lg-6 text-primary"},n={class:"h-100 d-flex flex-column"},u=(0,r._)("h3",{class:"h6 d-inline-block text-white rounded-top align-self-start px-3 py-2 mb-0 confirm-h3"}," 商品資訊 ",-1),b={class:"table-responsive bg-white shadow-sm rounded-bottom divborder p-3"},p={key:0,class:"confirmTable table table-borderless mb-0"},m=["src","alt"],_={class:"text-end"},h={class:"small text-muted"},w=(0,r._)("br",null,null,-1),g=(0,r._)("small",{class:"text-danger me-1"},"折扣價",-1),f={class:"text-danger fw-bold"},v={class:"col-lg-4 border-start border-light d-flex flex-column"},y=(0,r._)("h3",{class:"h6 d-inline-block text-white rounded-top align-self-start px-3 py-2 mb-0 confirm-h3"}," 訂購人資料 ",-1),x={class:"table-responsive bg-white shadow-sm rounded-bottom divborder p-3 mb-4"},D={class:"table"},k={key:0},z=(0,r._)("th",{scope:"row",class:"border-0"},"姓名",-1),$={class:"border-0"},q=(0,r._)("th",{scope:"row",class:"border-0"},"電話",-1),I={class:"border-0"},S=(0,r._)("th",{scope:"row",class:"border-0"},"地址",-1),j={class:"border-0"},O=(0,r._)("th",{scope:"row",class:"border-0"},"Email",-1),C={class:"border-0"},H=(0,r._)("h3",{class:"h6 d-inline-block text-white rounded-top align-self-start px-3 py-2 mb-0 confirm-h3"}," 結帳資訊 ",-1),L={class:"table-responsive bg-white shadow-sm rounded-bottom divborder p-3"},Y={class:"table"},B={class:"fs-5 fw-bold"},E=(0,r._)("th",{scope:"row",class:"border-0"},"總金額",-1),J={class:"border-0 text-danger"},M=(0,r._)("th",{scope:"row",class:"border-0 align-middle"},"付款方式",-1),N={class:"border-0"},U=(0,r._)("th",{scope:"row",class:"border-0 align-middle"},"配送方式",-1),W={class:"border-0"},K={class:"d-flex justify-content-evenly col-lg-12 py-2 mx-auto"},R=(0,r.Uk)("取消購買 ");function T(t,e,s,T,Z,A){const F=(0,r.up)("Loading"),G=(0,r.up)("Router-link");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(F,{active:Z.isLoading},null,8,["active"]),(0,r._)("div",a,[o,(0,r._)("div",d,[(0,r._)("div",c,[(0,r._)("div",i,[(0,r._)("div",n,[u,(0,r._)("div",b,[Z.cartData.carts?((0,r.wg)(),(0,r.iD)("table",p,[(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(Z.cartData.carts,(e=>((0,r.wg)(),(0,r.iD)("tr",{key:e.id},[(0,r._)("td",null,[(0,r._)("img",{src:e.product.imageUrl,alt:e.product.title,class:"confirm-img"},null,8,m)]),(0,r._)("td",null,(0,l.zw)(e.product.title),1),(0,r._)("td",null,"x "+(0,l.zw)(e.qty),1),(0,r._)("td",_,[e.final_total!==e.total?((0,r.wg)(),(0,r.iD)(r.HY,{key:0},[(0,r._)("del",h,"$"+(0,l.zw)(t.$filters.currency(e.total)),1),w,g],64)):(0,r.kq)("",!0),(0,r._)("span",f," $"+(0,l.zw)(t.$filters.currency(e.final_total)),1)])])))),128))])])):(0,r.kq)("",!0)])])]),(0,r._)("div",v,[y,(0,r._)("div",x,[(0,r._)("table",D,[Z.orderData.user?((0,r.wg)(),(0,r.iD)("tbody",k,[(0,r._)("tr",null,[z,(0,r._)("td",$,(0,l.zw)(Z.orderData.user.name),1)]),(0,r._)("tr",null,[q,(0,r._)("td",I,(0,l.zw)(Z.orderData.user.tel),1)]),(0,r._)("tr",null,[S,(0,r._)("td",j,(0,l.zw)(Z.orderData.user.address),1)]),(0,r._)("tr",null,[O,(0,r._)("td",C,(0,l.zw)(Z.orderData.user.email),1)])])):(0,r.kq)("",!0)])]),H,(0,r._)("div",L,[(0,r._)("table",Y,[(0,r._)("tbody",null,[(0,r._)("tr",B,[E,(0,r._)("td",J," $"+(0,l.zw)(t.$filters.currency(Z.cartData.final_total)),1)]),(0,r._)("tr",null,[M,(0,r._)("td",N,(0,l.zw)(this.$route.query.pay),1)]),(0,r._)("tr",null,[U,(0,r._)("td",W,(0,l.zw)(this.$route.query.shipping),1)])])]),(0,r._)("div",K,[(0,r.Wm)(G,{to:"/user/productslist",class:"btn myBtn"},{default:(0,r.w5)((()=>[R])),_:1}),(0,r._)("button",{onClick:e[0]||(e[0]=(...t)=>A.createOrder&&A.createOrder(...t)),class:"btn myBtn"}," 確認訂單 ")])])])])])])],64)}var Z={data(){return{orderData:{user:{}},cartData:{},orderId:"",isLoading:!1}},inject:["emitter","pushMessageState"],methods:{getInfo(){const t=localStorage.getItem("orderData"),e=localStorage.getItem("cartData");this.orderData=JSON.parse(t),this.cartData=JSON.parse(e)},createOrder(){const t="https://vue3-course-api.hexschool.io/api/linbcshop-api/order",e=this.orderData;this.$http.post(t,{data:e}).then((t=>{this.pushMessageState(t,"訂單建立"),this.emitter.emit("update-cart"),this.$router.push(`/cart/ordersuccess/${t.data.orderId}`)}))}},created(){this.getInfo()}},A=s(89);const F=(0,A.Z)(Z,[["render",T]]);var G=F}}]);
//# sourceMappingURL=407.1e77bceb.js.map